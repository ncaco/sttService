# sttService 개발 과정

이 문서는 sttService 프로젝트의 개발 과정을 단계별로 기록한 것입니다.

## 단계 1: 프로젝트 구조 설정

- 프로젝트 기본 디렉토리 구조 생성
- 기본 파일 생성 (README.md, requirements.txt, .env)

## 단계 2: 기본 환경 설정

- FastAPI 프로젝트 구조 생성
- 환경 변수 설정
- 필요한 패키지 목록 작성

## 단계 3: 데이터베이스 모델 설계

- SQLAlchemy ORM 모델 정의
- Transcription, ReportTemplate, Report 모델 생성
- 데이터베이스 연결 및 세션 관리 설정

## 단계 4: API 스키마 정의

- Pydantic 모델 생성
- 요청 및 응답 데이터 스키마 정의
- 모델 간 데이터 변환 로직 구현

## 단계 5: API 엔드포인트 구현

- FastAPI 라우터 설정
- 엔드포인트별 핸들러 함수 구현
- 에러 처리 및 응답 형식 표준화

## 단계 6: 서비스 로직 구현

- 음성/영상 변환 서비스 구현
- 보고서 생성 서비스 구현
- OpenAI API 연동

## 단계 7: Docker 환경 구성

- Dockerfile 작성
- docker-compose.yml 작성
- 서비스 컨테이너화 설정

## 단계 8: 데이터베이스 마이그레이션 및 초기 데이터 구성

- 데이터베이스 테이블 생성 스크립트 작성
- 초기 템플릿 데이터 생성 스크립트 작성

## 단계 9: 테스트 및 문서화

- API 테스트 코드 작성
- README.md 작성
- API 문서 설정 (Swagger UI, ReDoc)

## 단계 10: 배포 준비

- 환경 변수 설정 가이드 작성
- 실행 스크립트 작성
- 배포 가이드 문서화

## 구현된 API 엔드포인트

1. **오디오/영상 변환 API**
   - `POST /api/transcription/`: 오디오 또는 영상 파일을 텍스트로 변환

2. **보고서 템플릿 API**
   - `GET /api/report-template/{code}`: 보고서 템플릿 포맷 조회
   - `GET /api/report-template/`: 모든 보고서 템플릿 목록 조회
   - `POST /api/report-template/`: 새 보고서 템플릿 생성

3. **보고서 생성 API**
   - `POST /api/report/text`: 텍스트를 보고서로 변환
   - `POST /api/report/audio`: 오디오/영상 파일을 보고서로 변환

## 남은 작업

1. **단위 테스트 구현**
   - 각 서비스 및 엔드포인트에 대한 단위 테스트 작성
   - 통합 테스트 구현

2. **보안 강화**
   - API 인증 추가
   - 입력 검증 강화

3. **성능 최적화**
   - 대용량 파일 처리 최적화
   - 데이터베이스 인덱싱 최적화

4. **사용자 인터페이스**
   - 간단한 웹 인터페이스 추가 (선택 사항)
   - API 사용 예제 작성

5. **모니터링 및 로깅**
   - 로깅 시스템 구현
   - 성능 모니터링 추가 